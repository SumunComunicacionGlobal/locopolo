body.scrolled:not(.menu-open) #wrapper-navbar {
    backdrop-filter: blur(10px);
}

.offcanvas {
    
    &.offcanvas-top {
        //bottom: 0;
        //height: unset;
    }

    &.text-bg-dark {

        &.showing,
        &.show {
            
            a {
                color: $white;
            }

            .dropdown-menu {
                background-color: transparent;
                box-shadow: none;
                padding: 0;
            }

            .dropdown-item {

                &:hover {
                    background-color: transparent;
                }
            }

            .offcanvas-body {

                .nav-link,
                .dropdown-item {
                    font-weight: $font-weight-bold;
                    font-size: 1.5rem;
                }
        
                .nav-link {
                    text-transform: uppercase;
                    font-size: 1.875rem;
                }
        
            }        

        }

    }

}

.offcanvas-header .btn-close {
    padding: .5rem;
    margin: 0;
}

.offcanvas-footer {
    padding: var(--bs-offcanvas-padding-y) var(--bs-offcanvas-padding-x);

    @include media-breakpoint-down(lg) {

        .dropdown-menu {
            position: absolute;
            top: unset;
            bottom: 100%;
            border: $border-width solid $white;

            &.show {
                display: block;
            }
        }
    }

}

@include media-breakpoint-up(lg) {
    
    .offcanvas {
        display: flex;
        flex-direction: row;
        justify-content: flex-end;
    }

    .offcanvas-footer {
        padding: 0;
    }
}

.navbar-brand.custom-logo-link {
    font-weight: $font-weight-bold;
    text-transform: uppercase;

    img {
        width: 200px;

        @include media-breakpoint-up(xl) {
            width: 330px;
        }
    }
}

.dropdown-toggle::after {
    width: .5em;
    height: .5em;
    vertical-align: middle;
    margin: -.3em 0 0 .4em;
    border: .3em solid;
    border-width: 0 .15em .15em 0;
    transform: rotateZ(45deg)
}

#main-nav {
    padding-top: $spacer;

    > .container-fluid {

        @include media-breakpoint-down(sm) {
            padding-right: $spacer;
            padding-left: $spacer;
        }
    }
}

#primary-menu {

    .padded-menu-item > a {
        padding-left: $dropdown-item-padding-x*1.5;
        padding: $dropdown-item-padding-y*.75 $dropdown-item-padding-x $dropdown-item-padding-y*.75 $dropdown-item-padding-x*1.5;
        list-style: disc;

        &:before {
            content: "Â·";
            margin-right: .25em;
        }
    }

    .dropdown-item {
        font-weight: var(--bs-nav-link-font-weight);
    }

    @include media-breakpoint-up(lg) {

        ul.navbar-nav > li {
            position: relative;

            &:before {
                content: "";
                position: absolute;
                bottom: $nav-link-padding-y * .8;
                left: $nav-link-padding-x;
                right: 100%;
                transition: $transition-base;
                height: 5px;
                background-color: $navbar-light-color;
            }

            &:hover:before {
                right: $navbar-nav-link-padding-x;
            }

        }

    }

    @include media-breakpoint-only(lg) {

        .nav-link {
            font-size: $font-size-sm;
            padding-right: $nav-link-padding-x * .75;
        }

    }

    @include media-breakpoint-up(xl) {

        .nav-link {
            padding-left: $nav-link-padding-x;
        }

    }

}

.navbar-toggler {
    border: 3px solid $navbar-light-color;
}

.navbar-toggler-icon {
    width: 1.5rem;
    height: 1.5rem;
}

#buttons-menu {
    flex-direction: row;
    gap: $spacer;

    li:not(.wpml-ls-item) {

        .nav-link {
            @extend .btn;
            min-width: unset;
        }

        &:not(.menu-item-type-custom) .nav-link {
            @extend .btn-light;
        }

        &.menu-item-type-custom .nav-link {
            @extend .btn-outline-light;
        }

        @include media-breakpoint-up(lg) {

            &:not(.menu-item-type-custom) .nav-link {
                background-color: $dark;
                color: $white;
                border-color: $dark;
            }
        
            &.menu-item-type-custom .nav-link {
                color: $navbar-light-color;
                border-color: inherit;
                background-color: $white;
            }
                
        }

        @include media-breakpoint-only(lg) {
            .nav-link {
                font-size: $font-size-sm;
                padding: $btn-padding-y-sm $btn-padding-x-sm;
            }
        }

    }

    li.wpml-ls-item > .nav-link {
        text-transform: uppercase;
        font-weight: $font-weight-bold;
        font-size: 1.75rem;
        line-height: 1.2;
        padding-right: .25rem;

        @include media-breakpoint-only(lg) {
            font-size: 1.25rem;
        }
    }
}

body.has-ticker .offcanvas {

    &.show,
    &.showing {
        #buttons-menu {
            margin-bottom: 3rem;
        }
    }
}

#main-nav div.navbar-brand {
    flex-grow: 1;
}

.brand-logos-dropdown {

    .brand-logos-dropdown--item a {
        display: flex;
        align-items: flex-end;
        gap: $spacer;
        margin-bottom: $spacer;
    }

    .brand-logos-dropdown--logo,
    .dropdown-toggle,
    .brand-logos-dropdown--sticker {
        
        img {
            height: 25px;
            width: auto;

            @include media-breakpoint-up(xl) {
                height: 40px;
            }

        }
    }

    .brand-logos-dropdown--sticker {
        flex-grow: 0;
        flex-shrink: 0;
        // transition: $transition-base;
        // opacity: 0;

    }

    .dropdown-toggle {

        img {
            transition: $transition-base;
        }
        
        &:after {
            content: none;
        }

        &.show {

            img {
                opacity: 0;
            }

        }
    }    

    .dropdown-menu {
        top: 0;
        margin-top: 0;
        animation-name: slideInDown;
    }

    .new-product-sticker {
        position: absolute;
        left: 0;
        bottom: 0;
        transform: translate(-50%, 30%) rotate(45deg);
        width: 80px;
    }

}

.dropdown-menu.dropdown-transparent {
    // padding: $spacer 0 0;
    padding: 0;
    background-color: transparent;
    border: 0;
    box-shadow: none;
}

.dropdown-menu[data-bs-popper] {
    // top: unset;
}